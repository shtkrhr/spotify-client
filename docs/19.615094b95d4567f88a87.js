(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{Qf7L:function(t,n,e){"use strict";e.r(n);var r=e("CcnG"),l=function(){return function(){}}(),o=e("pMnS"),a=e("mrSG"),i=e("n6gG"),u=e("Wf4p"),s=100,c=function(){return function(t){this._elementRef=t}}(),f=Object(u.B)(c,"primary"),b=new r.q("mat-progress-spinner-default-options",{providedIn:"root",factory:function(){return{diameter:s}}}),m=function(t){function n(n,e,r,l,o){var a=t.call(this,n,e,r,l,o)||this;return a.mode="indeterminate",a}return Object(a.__extends)(n,t),n}(function(t){function n(n,e,r,l,o){var a=t.call(this,n)||this;return a._elementRef=n,a._document=r,a.animationMode=l,a.defaults=o,a._value=0,a._fallbackAnimation=!1,a._noopAnimations="NoopAnimations"===a.animationMode&&!!a.defaults&&!a.defaults._forceAnimations,a._diameter=s,a.mode="determinate",a._fallbackAnimation=e.EDGE||e.TRIDENT,o&&(o.diameter&&(a.diameter=o.diameter),o.strokeWidth&&(a.strokeWidth=o.strokeWidth)),n.nativeElement.classList.add("mat-progress-spinner-indeterminate"+(a._fallbackAnimation?"-fallback":"")+"-animation"),a}return Object(a.__extends)(n,t),Object.defineProperty(n.prototype,"diameter",{get:function(){return this._diameter},set:function(t){this._diameter=Object(i.f)(t),this._fallbackAnimation||n.diameters.has(this._diameter)||this._attachStyleNode()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"strokeWidth",{get:function(){return this._strokeWidth||this.diameter/10},set:function(t){this._strokeWidth=Object(i.f)(t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"value",{get:function(){return"determinate"===this.mode?this._value:0},set:function(t){this._value=Math.max(0,Math.min(100,Object(i.f)(t)))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_circleRadius",{get:function(){return(this.diameter-10)/2},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_viewBox",{get:function(){var t=2*this._circleRadius+this.strokeWidth;return"0 0 "+t+" "+t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_strokeCircumference",{get:function(){return 2*Math.PI*this._circleRadius},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_strokeDashOffset",{get:function(){return"determinate"===this.mode?this._strokeCircumference*(100-this._value)/100:this._fallbackAnimation&&"indeterminate"===this.mode?.2*this._strokeCircumference:null},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_circleStrokeWidth",{get:function(){return this.strokeWidth/this.diameter*100},enumerable:!0,configurable:!0}),n.prototype._attachStyleNode=function(){var t=n.styleTag;t||(t=this._document.createElement("style"),this._document.head.appendChild(t),n.styleTag=t),t&&t.sheet&&t.sheet.insertRule(this._getAnimationText(),0),n.diameters.add(this.diameter)},n.prototype._getAnimationText=function(){return"\n @keyframes mat-progress-spinner-stroke-rotate-DIAMETER {\n    0%      { stroke-dashoffset: START_VALUE;  transform: rotate(0); }\n    12.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(0); }\n    12.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(72.5deg); }\n    25%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(72.5deg); }\n\n    25.0001%   { stroke-dashoffset: START_VALUE;  transform: rotate(270deg); }\n    37.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(270deg); }\n    37.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(161.5deg); }\n    50%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(161.5deg); }\n\n    50.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(180deg); }\n    62.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(180deg); }\n    62.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(251.5deg); }\n    75%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(251.5deg); }\n\n    75.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(90deg); }\n    87.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(90deg); }\n    87.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(341.5deg); }\n    100%    { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(341.5deg); }\n  }\n".replace(/START_VALUE/g,""+.95*this._strokeCircumference).replace(/END_VALUE/g,""+.2*this._strokeCircumference).replace(/DIAMETER/g,""+this.diameter)},n.diameters=new Set([s]),n.styleTag=null,n}(f)),p=function(){return function(){}}(),d=e("Ip0R"),g=e("Fzqc"),h=e("ZYjt"),k=e("dWZg"),v=e("wFw1"),y=r.pb({encapsulation:2,styles:[".mat-progress-spinner{display:block;position:relative}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:transparent;transform-origin:center;transition:stroke-dashoffset 225ms linear}._mat-animation-noopable.mat-progress-spinner circle{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate]{animation:mat-progress-spinner-linear-rotate 2s linear infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate]{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition-property:stroke;animation-duration:4s;animation-timing-function:cubic-bezier(.35,0,.25,1);animation-iteration-count:infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate]{animation:mat-progress-spinner-stroke-rotate-fallback 10s cubic-bezier(.87,.03,.33,1) infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate]{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] circle{transition-property:stroke}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] circle{transition:none;animation:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.60617px;transform:rotate(0)}12.5%{stroke-dashoffset:56.54867px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.54867px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.60617px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.60617px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.54867px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.54867px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.60617px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.60617px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.54867px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.54867px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.60617px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.60617px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.54867px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.54867px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.60617px;transform:rotateX(180deg) rotate(341.5deg)}}@keyframes mat-progress-spinner-stroke-rotate-fallback{0%{transform:rotate(0)}25%{transform:rotate(1170deg)}50%{transform:rotate(2340deg)}75%{transform:rotate(3510deg)}100%{transform:rotate(4680deg)}}"],data:{}});function _(t){return r.Lb(0,[(t()(),r.rb(0,0,null,null,0,":svg:circle",[["cx","50%"],["cy","50%"]],[[1,"r",0],[4,"animation-name",null],[4,"stroke-dashoffset","px"],[4,"stroke-dasharray","px"],[4,"stroke-width","%"]],null,null,null,null))],null,function(t,n){var e=n.component;t(n,0,0,e._circleRadius,"mat-progress-spinner-stroke-rotate-"+e.diameter,e._strokeDashOffset,e._strokeCircumference,e._circleStrokeWidth)})}function L(t){return r.Lb(0,[(t()(),r.rb(0,0,null,null,0,":svg:circle",[["cx","50%"],["cy","50%"]],[[1,"r",0],[4,"stroke-dashoffset","px"],[4,"stroke-dasharray","px"],[4,"stroke-width","%"]],null,null,null,null))],null,function(t,n){var e=n.component;t(n,0,0,e._circleRadius,e._strokeDashOffset,e._strokeCircumference,e._circleStrokeWidth)})}function A(t){return r.Lb(2,[(t()(),r.rb(0,0,null,null,5,":svg:svg",[["focusable","false"],["preserveAspectRatio","xMidYMid meet"]],[[4,"width","px"],[4,"height","px"],[1,"viewBox",0]],null,null,null,null)),r.qb(1,16384,null,0,d.o,[],{ngSwitch:[0,"ngSwitch"]},null),(t()(),r.ib(16777216,null,null,1,null,_)),r.qb(3,278528,null,0,d.p,[r.Q,r.N,d.o],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),r.ib(16777216,null,null,1,null,L)),r.qb(5,278528,null,0,d.p,[r.Q,r.N,d.o],{ngSwitchCase:[0,"ngSwitchCase"]},null)],function(t,n){t(n,1,0,"indeterminate"===n.component.mode),t(n,3,0,!0),t(n,5,0,!1)},function(t,n){var e=n.component;t(n,0,0,e.diameter,e.diameter,e._viewBox)})}var x=e("ZYCi"),C=e("XlPw"),O=e("S5bw"),w=e("9Z1F"),B=e("xMyE"),E=e("15JJ"),q=e("364O"),T=e("coI/"),j=e("CcKO"),z=e("t/Na"),I=function(){function t(t,n){var e=this;this.http=t,this.trackApi=n,this.baseUrl="https://api.spotify.com/v1/me",this.userTracksCache=new T.a(3600),Object(q.d)().subscribe(function(t){return e.userTracksCache.clear()})}return t.prototype.tracks=function(t,n){var e=this;void 0===t&&(t=0),void 0===n&&(n=50);var r=Object(q.b)();if(!r)return Object(C.a)("No access token.");var l=r+",limit="+n+",offset="+t;return this.userTracksCache.get(l).pipe(Object(w.a)(function(r){return e.http.get(e.baseUrl+"/tracks",{params:{offset:t,limit:n}}).pipe(Object(B.a)(function(t){t.items.map(function(t){return e.trackApi.cacheTrack(t.track)}),e.userTracksCache.set(l,t)}))}))},t.prototype.allTracks=function(){var t=this,n=new O.a(1);return this.tracks(0,50).pipe(Object(B.a)(function(e){var r={completed:!e.next,items:e.items,total:e.total};if(n.next(r),r.completed)n.complete();else for(var l=r,o=Math.floor(e.total/50),a=1;a<=o;a++)t.tracks(50*a,50).subscribe(function(t){var e=l.items.concat(t.items),r={items:e,total:l.total,completed:e.length===l.total};n.next(r),r.completed&&n.complete(),l=r})}),Object(E.a)(function(t){return n.asObservable()}))},t.ngInjectableDef=r.U({factory:function(){return new t(r.Y(z.c),r.Y(j.a))},token:t,providedIn:"root"}),t}(),N=function(){function t(t,n){this.route=t,this.libApi=n}return t.prototype.ngOnInit=function(){var t=this;this.route.data.subscribe(function(n){t.data=n.data})},t.prototype.testFetch=function(){var t=this.libApi.allTracks();console.log("start subsc 1"),t.subscribe(function(t){console.log("recieved 1"),console.log(t)}),console.log("start subsc 2"),t.subscribe(function(t){console.log("recieved 2"),console.log(t)})},t}(),R=r.pb({encapsulation:0,styles:[["[_nghost-%COMP%]{display:block}.type-nav[_ngcontent-%COMP%]{display:flex;justify-content:center;padding-bottom:30px}.type-nav__item[_ngcontent-%COMP%]{display:block;color:#000;text-decoration:none;font-size:18px;font-weight:600;padding:1em 1em .3em;position:relative}.type-nav__item.active[_ngcontent-%COMP%]{cursor:default}.type-nav__item.active[_ngcontent-%COMP%]::after{content:'';display:block;width:2em;height:.2em;position:absolute;bottom:0;left:50%;margin-left:-1em;background:#000}.progress[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center}.progress[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{text-align:right;width:12em}"]],data:{}});function S(t){return r.Lb(0,[(t()(),r.rb(0,0,null,null,1,"mat-spinner",[["class","mat-spinner mat-progress-spinner"],["mode","indeterminate"],["role","progressbar"]],[[2,"_mat-animation-noopable",null],[4,"width","px"],[4,"height","px"]],null,null,A,y)),r.qb(1,49152,null,0,m,[r.k,k.a,[2,d.d],[2,v.a],b],{diameter:[0,"diameter"],strokeWidth:[1,"strokeWidth"]},null)],function(t,n){t(n,1,0,20,3)},function(t,n){t(n,0,0,r.Bb(n,1)._noopAnimations,r.Bb(n,1).diameter,r.Bb(n,1).diameter)})}function K(t){return r.Lb(0,[(t()(),r.rb(0,0,null,null,6,"p",[["class","progress"]],null,null,null,null,null)),(t()(),r.ib(16777216,null,null,1,null,S)),r.qb(2,16384,null,0,d.l,[r.Q,r.N],{ngIf:[0,"ngIf"]},null),(t()(),r.rb(3,0,null,null,3,"span",[],null,null,null,null,null)),(t()(),r.Jb(4,null,[""," / "," Tracks"])),r.Fb(5,1),r.Fb(6,1)],function(t,n){t(n,2,0,!n.context.ngIf.completed)},function(t,n){var e=r.Kb(n,4,0,t(n,5,0,r.Bb(n.parent,0),n.context.ngIf.items.length)),l=r.Kb(n,4,1,t(n,6,0,r.Bb(n.parent,0),n.context.ngIf.total));t(n,4,0,e,l)})}function W(t){return r.Lb(0,[r.Db(0,d.e,[r.v]),(t()(),r.rb(1,0,null,null,24,"nav",[["class","type-nav"]],null,null,null,null,null)),(t()(),r.rb(2,0,null,null,5,"a",[["class","type-nav__item"],["routerLink","./artist"],["routerLinkActive","active"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==r.Bb(t,3).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&l),l},null,null)),r.qb(3,671744,[[2,4]],0,x.n,[x.l,x.a,d.i],{routerLink:[0,"routerLink"]},null),r.qb(4,1720320,null,2,x.m,[x.l,r.k,r.F,r.h],{routerLinkActive:[0,"routerLinkActive"]},null),r.Hb(603979776,1,{links:1}),r.Hb(603979776,2,{linksWithHrefs:1}),(t()(),r.Jb(-1,null,["Artist"])),(t()(),r.rb(8,0,null,null,5,"a",[["class","type-nav__item"],["routerLink","./album"],["routerLinkActive","active"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==r.Bb(t,9).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&l),l},null,null)),r.qb(9,671744,[[4,4]],0,x.n,[x.l,x.a,d.i],{routerLink:[0,"routerLink"]},null),r.qb(10,1720320,null,2,x.m,[x.l,r.k,r.F,r.h],{routerLinkActive:[0,"routerLinkActive"]},null),r.Hb(603979776,3,{links:1}),r.Hb(603979776,4,{linksWithHrefs:1}),(t()(),r.Jb(-1,null,["Album"])),(t()(),r.rb(14,0,null,null,5,"a",[["class","type-nav__item"],["routerLink","./track"],["routerLinkActive","active"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==r.Bb(t,15).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&l),l},null,null)),r.qb(15,671744,[[6,4]],0,x.n,[x.l,x.a,d.i],{routerLink:[0,"routerLink"]},null),r.qb(16,1720320,null,2,x.m,[x.l,r.k,r.F,r.h],{routerLinkActive:[0,"routerLinkActive"]},null),r.Hb(603979776,5,{links:1}),r.Hb(603979776,6,{linksWithHrefs:1}),(t()(),r.Jb(-1,null,["Track"])),(t()(),r.rb(20,0,null,null,5,"a",[["class","type-nav__item"],["routerLink","./analytics"],["routerLinkActive","active"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==r.Bb(t,21).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&l),l},null,null)),r.qb(21,671744,[[8,4]],0,x.n,[x.l,x.a,d.i],{routerLink:[0,"routerLink"]},null),r.qb(22,1720320,null,2,x.m,[x.l,r.k,r.F,r.h],{routerLinkActive:[0,"routerLinkActive"]},null),r.Hb(603979776,7,{links:1}),r.Hb(603979776,8,{linksWithHrefs:1}),(t()(),r.Jb(-1,null,["Analytics"])),(t()(),r.ib(16777216,null,null,2,null,K)),r.qb(27,16384,null,0,d.l,[r.Q,r.N],{ngIf:[0,"ngIf"]},null),r.Db(131072,d.b,[r.h]),(t()(),r.rb(29,0,null,null,2,"div",[["class","child"]],null,null,null,null,null)),(t()(),r.rb(30,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),r.qb(31,212992,null,0,x.p,[x.b,r.Q,r.j,[8,null],r.h],null,null)],function(t,n){var e=n.component;t(n,3,0,"./artist"),t(n,4,0,"active"),t(n,9,0,"./album"),t(n,10,0,"active"),t(n,15,0,"./track"),t(n,16,0,"active"),t(n,21,0,"./analytics"),t(n,22,0,"active"),t(n,27,0,r.Kb(n,27,0,r.Bb(n,28).transform(e.data&&e.data.tracksCollection$))),t(n,31,0)},function(t,n){t(n,2,0,r.Bb(n,3).target,r.Bb(n,3).href),t(n,8,0,r.Bb(n,9).target,r.Bb(n,9).href),t(n,14,0,r.Bb(n,15).target,r.Bb(n,15).href),t(n,20,0,r.Bb(n,21).target,r.Bb(n,21).href)})}function U(t){return r.Lb(0,[(t()(),r.rb(0,0,null,null,1,"sp-track-favorite",[],null,null,null,W,R)),r.qb(1,114688,null,0,N,[x.a,I],null,null)],function(t,n){t(n,1,0)},null)}var D=r.nb("sp-track-favorite",N,U,{},{},[]),M=e("8D0v"),P=e("y4Xi"),V=e("aHjC"),X=e("3yVA"),F=e("ilYa"),H=e("2J0r"),$=e("67Y/"),Q=function(){function t(t){this.route=t}return t.prototype.ngOnInit=function(){var t=this;this.route.parent.data.subscribe(function(n){t.data=n.data,t.groups$=t.groupByArtist(t.data)})},t.prototype.groupByArtist=function(t){return t.tracksCollection$.pipe(Object($.a)(function(t){var n={};return t.items.forEach(function(t){var e=t.track;e.artists.forEach(function(t){n[t.id]||(n[t.id]={artist:t,tracks:[]}),n[t.id].tracks.push(e)})}),Object.values(n)}))},t}(),J=r.pb({encapsulation:0,styles:[[""]],data:{}});function Y(t){return r.Lb(0,[(t()(),r.rb(0,0,null,null,5,"sp-thumbnail",[],null,null,null,M.b,M.a)),r.qb(1,49152,null,0,P.a,[],null,null),(t()(),r.rb(2,0,null,0,3,"a",[["sp-artist-thumbnail",""]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==r.Bb(t,3).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&l),l},V.b,V.a)),r.qb(3,671744,null,0,x.n,[x.l,x.a,d.i],{routerLink:[0,"routerLink"]},null),r.Cb(4,2),r.qb(5,114688,null,0,X.a,[],{artist:[0,"artist"]},null)],function(t,n){var e=t(n,4,0,"/artist",n.context.$implicit.artist.id);t(n,3,0,e),t(n,5,0,n.context.$implicit.artist)},function(t,n){t(n,2,0,r.Bb(n,3).target,r.Bb(n,3).href)})}function Z(t){return r.Lb(0,[(t()(),r.rb(0,0,null,null,3,"sp-thumbnail-group",[["gutter","narrow"]],[[1,"gutter",0],[1,"column",0]],[["window","resize"]],function(t,n,e){var l=!0;return"window:resize"===n&&(l=!1!==r.Bb(t,1).onWindowResize()&&l),l},F.b,F.a)),r.qb(1,13352960,null,0,H.a,[r.k,r.h],{gutter:[0,"gutter"],maxColumnWidth:[1,"maxColumnWidth"]},null),(t()(),r.ib(16777216,null,0,1,null,Y)),r.qb(3,278528,null,0,d.k,[r.Q,r.N,r.t],{ngForOf:[0,"ngForOf"]},null)],function(t,n){t(n,1,0,"narrow",180),t(n,3,0,n.context.ngIf)},function(t,n){t(n,0,0,r.Bb(n,1).gutter,r.Bb(n,1).columnCount)})}function G(t){return r.Lb(0,[(t()(),r.ib(16777216,null,null,2,null,Z)),r.qb(1,16384,null,0,d.l,[r.Q,r.N],{ngIf:[0,"ngIf"]},null),r.Db(131072,d.b,[r.h])],function(t,n){var e=n.component;t(n,1,0,r.Kb(n,1,0,r.Bb(n,2).transform(e.groups$&&e.groups$)))},null)}function tt(t){return r.Lb(0,[(t()(),r.rb(0,0,null,null,1,"sp-favorite-artist",[],null,null,null,G,J)),r.qb(1,114688,null,0,Q,[x.a],null,null)],function(t,n){t(n,1,0)},null)}var nt=r.nb("sp-favorite-artist",Q,tt,{},{},[]),et=e("RQFq"),rt=e("NBzC"),lt=function(){function t(t){this.route=t}return t.prototype.ngOnInit=function(){var t=this;this.route.parent.data.subscribe(function(n){t.data=n.data,t.groups$=t.groupByAlbum(t.data)})},t.prototype.groupByAlbum=function(t){return t.tracksCollection$.pipe(Object($.a)(function(t){var n={};return t.items.forEach(function(t){var e=t.track;n[e.album.id]||(n[e.album.id]={album:e.album,tracks:[]}),n[e.album.id].tracks.push(e)}),Object.values(n)}))},t}(),ot=r.pb({encapsulation:0,styles:[[""]],data:{}});function at(t){return r.Lb(0,[(t()(),r.rb(0,0,null,null,5,"sp-thumbnail",[],null,null,null,M.b,M.a)),r.qb(1,49152,null,0,P.a,[],null,null),(t()(),r.rb(2,0,null,0,3,"a",[["sp-album-thumbnail",""]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==r.Bb(t,3).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&l),l},et.b,et.a)),r.qb(3,671744,null,0,x.n,[x.l,x.a,d.i],{routerLink:[0,"routerLink"]},null),r.Cb(4,2),r.qb(5,114688,null,0,rt.a,[],{album:[0,"album"]},null)],function(t,n){var e=t(n,4,0,"/album",n.context.$implicit.album.id);t(n,3,0,e),t(n,5,0,n.context.$implicit.album)},function(t,n){t(n,2,0,r.Bb(n,3).target,r.Bb(n,3).href)})}function it(t){return r.Lb(0,[(t()(),r.rb(0,0,null,null,3,"sp-thumbnail-group",[["gutter","narrow"]],[[1,"gutter",0],[1,"column",0]],[["window","resize"]],function(t,n,e){var l=!0;return"window:resize"===n&&(l=!1!==r.Bb(t,1).onWindowResize()&&l),l},F.b,F.a)),r.qb(1,13352960,null,0,H.a,[r.k,r.h],{gutter:[0,"gutter"],maxColumnWidth:[1,"maxColumnWidth"]},null),(t()(),r.ib(16777216,null,0,1,null,at)),r.qb(3,278528,null,0,d.k,[r.Q,r.N,r.t],{ngForOf:[0,"ngForOf"]},null)],function(t,n){t(n,1,0,"narrow",180),t(n,3,0,n.context.ngIf)},function(t,n){t(n,0,0,r.Bb(n,1).gutter,r.Bb(n,1).columnCount)})}function ut(t){return r.Lb(0,[(t()(),r.ib(16777216,null,null,2,null,it)),r.qb(1,16384,null,0,d.l,[r.Q,r.N],{ngIf:[0,"ngIf"]},null),r.Db(131072,d.b,[r.h])],function(t,n){var e=n.component;t(n,1,0,r.Kb(n,1,0,r.Bb(n,2).transform(e.groups$&&e.groups$)))},null)}function st(t){return r.Lb(0,[(t()(),r.rb(0,0,null,null,1,"sp-favorite-album",[],null,null,null,ut,ot)),r.qb(1,114688,null,0,lt,[x.a],null,null)],function(t,n){t(n,1,0)},null)}var ct=r.nb("sp-favorite-album",lt,st,{},{},[]),ft=e("r8UC"),bt=e("UPuZ"),mt=e("CAEz"),pt=e("jzRL"),dt=function(){function t(t){this.route=t}return t.prototype.ngOnInit=function(){var t=this;this.route.parent.data.subscribe(function(n){return t.data=n.data})},t}(),gt=r.pb({encapsulation:0,styles:[[""]],data:{}});function ht(t){return r.Lb(0,[(t()(),r.rb(0,0,null,null,2,"sp-track-list",[],null,null,null,ft.b,ft.a)),r.qb(1,638976,null,0,bt.a,[mt.a,pt.a],{tracks:[0,"tracks"],columns:[1,"columns"]},null),r.Cb(2,6)],function(t,n){var e=n.context.ngIf.items,r=t(n,2,0,"image","play","name","artist","album","duration");t(n,1,0,e,r)},null)}function kt(t){return r.Lb(0,[(t()(),r.ib(16777216,null,null,2,null,ht)),r.qb(1,16384,null,0,d.l,[r.Q,r.N],{ngIf:[0,"ngIf"]},null),r.Db(131072,d.b,[r.h])],function(t,n){var e=n.component;t(n,1,0,r.Kb(n,1,0,r.Bb(n,2).transform(e.data&&e.data.tracksCollection$)))},null)}function vt(t){return r.Lb(0,[(t()(),r.rb(0,0,null,null,1,"sp-favorite-track",[],null,null,null,kt,gt)),r.qb(1,114688,null,0,dt,[x.a],null,null)],function(t,n){t(n,1,0)},null)}var yt=r.nb("sp-favorite-track",dt,vt,{},{},[]),_t=function(){function t(){}return t.prototype.ngOnInit=function(){},t}(),Lt=r.pb({encapsulation:0,styles:[[""]],data:{}});function At(t){return r.Lb(0,[(t()(),r.rb(0,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),r.Jb(-1,null,[" analytics works!\n"]))],null,null)}function xt(t){return r.Lb(0,[(t()(),r.rb(0,0,null,null,1,"sp-favorite-analytics",[],null,null,null,At,Lt)),r.qb(1,114688,null,0,_t,[],null,null)],function(t,n){t(n,1,0)},null)}var Ct=r.nb("sp-favorite-analytics",_t,xt,{},{},[]),Ot=function(){function t(t,n){this.router=t,this.libApi=n}return t.prototype.resolve=function(t){var n=new O.a(1);return this.libApi.allTracks().subscribe(n.next.bind(n)),{tracksCollection$:n.asObservable()}},t}(),wt=Ot,Bt=function(){return function(){}}(),Et=e("UodH"),qt=e("SMsm"),Tt=e("y4qS"),jt=e("BHnd"),zt=e("ZPbH");e.d(n,"FavoriteModuleNgFactory",function(){return It});var It=r.ob(l,[],function(t){return r.yb([r.zb(512,r.j,r.db,[[8,[o.a,D,nt,ct,yt,Ct]],[3,r.j],r.y]),r.zb(4608,d.n,d.m,[r.v,[2,d.x]]),r.zb(4608,Ot,Ot,[x.l,I]),r.zb(1073742336,d.c,d.c,[]),r.zb(1073742336,g.a,g.a,[]),r.zb(1073742336,u.l,u.l,[[2,u.d],[2,h.g]]),r.zb(1073742336,p,p,[]),r.zb(1073742336,x.o,x.o,[[2,x.u],[2,x.l]]),r.zb(1073742336,Bt,Bt,[]),r.zb(1073742336,k.b,k.b,[]),r.zb(1073742336,u.v,u.v,[]),r.zb(1073742336,Et.c,Et.c,[]),r.zb(1073742336,qt.c,qt.c,[]),r.zb(1073742336,Tt.p,Tt.p,[]),r.zb(1073742336,jt.l,jt.l,[]),r.zb(1073742336,zt.a,zt.a,[]),r.zb(1073742336,l,l,[]),r.zb(1024,x.j,function(){return[[{path:"",component:N,resolve:{data:wt},children:[{path:"artist",component:Q},{path:"album",component:lt},{path:"track",component:dt},{path:"analytics",component:_t},{path:"**",redirectTo:"artist"}]}]]},[])])})}}]);